!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Datepickk=t():e.Datepickk=t()}(this,function(){return function(n){var a={};function r(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}return r.m=n,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,n){"use strict";function W(){var e,t=document.createElement("fakeelement"),n={animation:"animationend",OAnimation:"oanimationend",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd","":"MSAnimationEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}Object.defineProperty(t,"__esModule",{value:!0}),n(1);var $='<div class="d-title"></div><div class="d-calendar"><div class="d-header"><i id="d-previous"></i><p><span class="d-year"></span><span class="d-month"></span></p><i id="d-next"></i></div><div class="d-month-picker"><div data-month="1">1</div><div data-month="2">2</div><div data-month="3">3</div><div data-month="4">4</div><div data-month="5">5</div><div data-month="6">6</div><div data-month="7">7</div><div data-month="8">8</div><div data-month="9">9</div><div data-month="10">10</div><div data-month="11">11</div><div data-month="12">12</div></div><div class="d-year-picker"><div data-year="-5"></div><div data-year="-4"></div><div data-year="-3"></div><div data-year="-2"></div><div data-year="-1"></div><div data-year="0"></div><div data-year="1"></div><div data-year="2"></div><div data-year="3"></div><div data-year="4"></div><div data-year="5"></div></div><div class="d-weekdays"></div><div class="d-tables"></div></div><div class="d-legend"></div><button class="d-confirm"></button><div class="d-overlay"></div>',G=function(){var e,t,n={type:null,version:null},a=navigator.userAgent,r=a.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return t=a.match(/(iphone|ipad)\s+OS\s+([\d+_]+\d+)/i)||[],/trident/i.test(r[1])?(e=/\brv[ :]+(\d+)/g.exec(a)||[],n.type="MSIE",n.version=parseInt(e[1]),n):"Chrome"===r[1]&&null!=(e=a.match(/\bOPR\/(\d+)/))?"Opera "+e[1]:t[1]?{type:"iOS",version:t[2]}:(r=r[2]?[r[1],r[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=a.match(/version\/(\d+)/i))&&r.splice(1,1,e[1]),n.type=r[0],n.version=parseInt(r[1]),n)};t.default=function o(e){o.numInstances=(o.numInstances||0)+1;var s=this,c="click",l=[],d=(new Date).getFullYear(),u=(new Date).getMonth()+1,v={no:{monthNames:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayNames:["sø","ma","ti","on","to","fr","lø"],weekStart:1},se:{monthNames:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],dayNames:["sö","må","ti","on","to","fr","lö"],weekStart:1},ru:{monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayNames:["вс","пн","вт","ср","чт","пт","сб"],weekStart:1},en:{monthNames:["january","february","march","april","may","june","july","august","september","october","november","december"],dayNames:["su","mo","tu","we","th","fr","sa"],weekStart:0},de:{monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayNames:["So","Mo","Di","Mi","Do","Fr","Sa"],weekStart:1},kr:{monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayNames:["일","월","화","수","목","금","토"],weekStart:0}};v.nb=v.no,v.nn=v.no;var f=!1,r=null,b=document.body,t=!1,p=1,i=!1,n=null,a=null,g=null,m=null,h=null,y=!0,D=!1,L="en",N=null,k=[],w=[],A=[],E={},S=!0,M=!0,T=null,x=null,O=null,C=null,F=!1;function Y(){s.el.days.innerHTML="";var e=null!==C?C:v[L].weekStart;if(S)for(var t=0;t<p&&t<3;t++){var n=document.createElement("div");n.setAttribute("class","d-week");for(var a=0;a<7;a++){var r=a+e>v[L].dayNames.length-1?a+e-v[L].dayNames.length:a+e,i=document.createElement("div"),l=document.createElement("p");l.innerHTML=v[L].dayNames[r],i.appendChild(l),n.appendChild(i)}s.el.days.appendChild(n)}}function j(){s.el.tables.innerHTML="";for(var e=0;e<p;e++){var t=document.createElement("div");t.setAttribute("class","d-table");for(var n=0;n<42;n++){var a=document.createElement("input");a.type="checkbox",a.id=o.numInstances+"-"+e+"-d-day-"+n;var r=document.createElement("label");r.setAttribute("for",o.numInstances+"-"+e+"-d-day-"+n);var i=document.createElement("text"),l=document.createElement("span");l.setAttribute("class","d-tooltip"),t.appendChild(a),t.appendChild(r),r.appendChild(i),r.appendChild(l),a.addEventListener(c,function(e){F&&e.preventDefault()}),a.addEventListener("change",z)}s.el.tables.appendChild(t)}function d(i){if("LABEL"===i.target.nodeName){var e=i.target.getAttribute("data-legend-id")?i.target.getAttribute("data-legend-id").split(" "):[];e.length&&e.forEach(function(e){var t,n,a=s.el.legend.querySelector('[data-legend-id="'+e+'"]');if("mouseover"==i.type&&a){var r=a.getAttribute("data-color")?(t=a.getAttribute("data-color"),(n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t))?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null):null;a.setAttribute("style","background-color:rgba("+r.r+","+r.g+","+r.b+",0.35);")}else a&&a.removeAttribute("style")})}}s.el.tables.addEventListener("mouseover",d),s.el.tables.addEventListener("mouseout",d)}function q(g,m){var h=s.el.querySelectorAll(".d-table"),a=null!==C?C:v[L].weekStart;[].slice.call(s.el.querySelectorAll(".d-table")).forEach(function(e,s){var c=new Date(g,m+s,0).getDate(),u=new Date(g,m+s-1,0).getDate(),f=new Date(g,m+s-1,1).getDay();f-a<0?f=7-a:f-=a;var t,n=v[L].monthNames[(t=m-1+s,11<t?t-=12:t<0&&(t+=12),t)];e.setAttribute("data-month",n),[].slice.call(e.querySelectorAll(".d-table input")).forEach(function(e,t){var n=e.nextSibling;e.checked=!1,e.removeAttribute("disabled"),n.removeAttribute("style"),n.removeAttribute("data-legend-id"),n.className="";var a=null;if(t<f?(n.childNodes[0].innerHTML=u-(f-t-1),0==s?(a=new Date(g,m+s-2,u-(f-t-1)),n.className="prev"):(a="",n.className="d-hidden",e.setAttribute("disabled",!0))):t<c+f?(a=new Date(g,m+s-1,t-f+1),n.childNodes[0].innerHTML=t-f+1,n.className=""):(n.childNodes[0].innerHTML=t-c-f+1,s==h.length-1?(a=new Date(g,m+s,t-c-f+1),n.className="next"):(a="",n.className="d-hidden",e.setAttribute("disabled",!0))),a instanceof Date){e.setAttribute("data-date",a.toJSON()),-1==k.indexOf(a.getTime())&&-1==w.indexOf(a.getDay())||e.setAttribute("disabled",!0),(x&&a<x||O&&O<a)&&(e.setAttribute("disabled",!0),n.className="d-hidden"),M&&a.getTime()==(new Date).setHours(0,0,0,0)?n.classList.add("today"):n.classList.remove("today"),E[a.getTime()]?(n.childNodes[0].setAttribute("data-tooltip",!0),n.childNodes[1].innerHTML=E[a.getTime()]):(n.childNodes[0].removeAttribute("data-tooltip"),n.childNodes[1].innerHTML="");var r=A.filter(function(e){for(var t=0;t<e.dates.length;t++)if(a.getTime()>=e.dates[t].start.getTime()&&a.getTime()<=e.dates[t].end.getTime())return!0;return!1});if(0<r.length){var i="",l="",d="",o="";1<r.length?(i=r[r.length-1].backgroundColor?"background:"+r[r.length-1].backgroundColor+";":"",l+=A.indexOf(r[r.length-1]),d=r[r.length-1].color?"color:"+r[r.length-1].color+";":"",a.getTime()==r[r.length-1].dates[0].start.getTime()?o="border-top-left-radius: 20px; border-bottom-left-radius: 20px;":a.getTime()==r[r.length-1].dates[0].end.getTime()&&(o="border-top-right-radius: 20px; border-bottom-right-radius: 20px;")):(i=r[0].backgroundColor?"background:"+r[0].backgroundColor+";":"",l+=A.indexOf(r[0]),d=r[0].color?"color:"+r[0].color+";":"",a.getTime()==r[0].dates[0].start.getTime()?o="border-top-left-radius: 20px; border-bottom-left-radius: 20px;":a.getTime()==r[0].dates[0].end.getTime()&&(o="border-top-right-radius: 20px; border-bottom-right-radius: 20px;")),n.setAttribute("style",i+d+o),n.setAttribute("data-legend-id",l)}}})}),function(){for(var n=new Date(s.el.tables.childNodes[0].childNodes[0].getAttribute("data-date")),a=new Date(s.el.tables.childNodes[p-1].childNodes[82].getAttribute("data-date")),e=A.filter(function(e){for(var t=0;t<e.dates.length;t++)if(e.dates[t].start<a&&e.dates[t].end>n)return!0;return!1}),t=[],r=0;r<e.length;r++)if("legend"in e[r]&&e[r].legend){var i=b.querySelector('.d-legend-item[data-legend="'+e[r].legend+'"][data-color="'+e[r].backgroundColor+'"]');if(null==i){var l=document.createElement("p");l.setAttribute("class","d-legend-item"),l.setAttribute("data-legend",e[r].legend),l.setAttribute("data-legend-id",A.indexOf(e[r])),l.setAttribute("data-color",e[r].backgroundColor);var d=document.createElement("span");d.setAttribute("style","background-color:"+e[r].backgroundColor),l.appendChild(d),s.el.legend.appendChild(l),l.addEventListener("mouseover",o),l.addEventListener("mouseout",o),t.push(l)}else t.push(i)}function o(t){[].slice.call(s.el.tables.querySelectorAll('[data-legend-id*="'+this.getAttribute("data-legend-id")+'"]')).forEach(function(e){"mouseover"==t.type?e.classList.add("legend-hover"):e.classList.remove("legend-hover")})}[].slice.call(s.el.legend.querySelectorAll(".d-legend-item")).forEach(function(e){t.indexOf(e)<0&&(e.removeEventListener("mouseover",o),e.removeEventListener("mouseout",o),s.el.legend.removeChild(e))})}()}function H(){if(s.el.tables.childNodes.length&&s.el.tables.childNodes[0].childNodes.length){[].slice.call(s.el.querySelectorAll(".d-table input")).forEach(function(e){e.checked=!1}),[].slice.call(s.el.monthPicker.querySelectorAll(".current")).forEach(function(e){e.classList.remove("current")}),[].slice.call(s.el.yearPicker.querySelectorAll(".current")).forEach(function(e){e.classList.remove("current")}),(12<u||u<1)&&(12<u?(d+=1,u-=12):(d-=1,u+=12)),O&&new Date(d,u-1+p-1,1)>=new Date(O).setDate(1)?(d=O.getFullYear(),u=O.getMonth()+1-p+1,s.el.header.childNodes[2].setAttribute("style","visibility:hidden")):s.el.header.childNodes[2].removeAttribute("style"),x&&new Date(d,u-1,1)<=new Date(x).setDate(1)?(d=x.getFullYear(),u=x.getMonth()+1,s.el.header.childNodes[0].setAttribute("style","visibility:hidden")):s.el.header.childNodes[0].removeAttribute("style");for(var e=0;e<p;e++){var t=u-1+e;11<t?t-=12:t<0&&(t+=12),s.el.monthPicker.childNodes[t].classList.add("current")}q(d,u),[].slice.call(s.el.yearPicker.childNodes).forEach(function(e,t){e.innerHTML="'"+(d+parseInt(e.getAttribute("data-year"))).toString().substring(2,4)});var n=v[L].monthNames[u-1],a="";if(1<p){a+=" - ";var r=u-1+p-1;11<r?r-=12:r<0&&(r+=12),a+=v[L].monthNames[r]}var i=11<u-1+p-1?d.toString()+"/"+(d+1).toString():d.toString();s.el.header.childNodes[1].childNodes[1].innerHTML=n+a,s.el.header.childNodes[1].childNodes[0].innerHTML=i+"년 ",s.el.yearPicker.querySelector('[data-year="0"]').classList.add("current"),11<u-1+p-1&&s.el.yearPicker.querySelector('[data-year="1"]').classList.add("current"),function(){if(l.forEach(function(e){var t=s.el.querySelector('[data-date="'+e.toJSON()+'"]');t&&(t.checked=!0)}),s.el.tables.classList.remove("before"),f&&1<l.length){var e=new Date(d,u-1,1),t=l.sort(function(e,t){return e.getTime()-t.getTime()}),n=s.el.querySelector('[data-date="'+t[0].toJSON()+'"]');!n&&e>=new Date(t[0].getFullYear(),t[0].getMonth(),1)&&e<=new Date(t[1].getFullYear(),t[1].getMonth(),1)&&s.el.tables.classList.add("before")}}(),g&&g.call(s)}}function P(){u+=p,H()}function I(){u-=p,H()}function J(e,t){(e=new Date(e)).setHours(0,0,0,0);var n=s.el.querySelector('[data-date="'+e.toJSON()+'"]');f&&n&&n.checked&&n.classList.add("single"),n&&!n.checked&&(n.checked=!0),l.push(e),N&&!t&&N.apply(e,[!0])}function _(t,e){(t=new Date(t)).setHours(0,0,0,0);var n=s.el.querySelector('[data-date="'+t.toJSON()+'"]');n&&(n.classList.remove("single"),n.checked&&(n.checked=!1)),l=l.filter(function(e){return e.getTime()!=t.getTime()}),N&&!e&&N.call(t,!1)}function z(e){var t=this,n=new Date(t.getAttribute("data-date"));if(t.classList.remove("single"),!F){if(f&&s.el.tables.classList.remove("before"),t.checked){if(r&&l.length>r-1)for(var a=l.length;r-1<a;a--)_(l[0]);f&&l.length&&!s.el.querySelector('[data-date="'+l[0].toJSON()+'"]')&&n>l[0]&&s.el.tables.classList.add("before"),l.push(n),i&&s.hide()}else f&&1==l.length&&l[0].getTime()==n.getTime()?(J(n),t.classList.add("single")):l=l.filter(function(e){return e.getTime()!=n.getTime()});N&&N.call(n,t.checked)}}function B(e){s.inline||s.container!==document.body||document.body.classList.add("d-noscroll"),R(e),s.el.calendar.addEventListener(W(),function e(){s.el.classList.remove("d-show"),s.el.calendar.removeEventListener(W(),e)}),s.el.classList.add("d-show"),b.appendChild(s.el),t=!0,T&&(u=T.getMonth()+1,d=T.getFullYear()),H()}function X(){document.body.classList.remove("d-noscroll"),s.el.addEventListener(W(),function e(){s.el.parentNode.removeChild(s.el),t=!1,s.el.classList.remove("d-hide"),"function"==typeof m&&m.apply(s),s.el.removeEventListener(W(),e)}),s.el.classList.add("d-hide")}function R(e){for(var t in e)t in s&&(s[t]=e[t])}function V(e){e=new Date(e),u=e.getMonth()+1,d=e.getFullYear(),H()}return s.show=B,s.hide=X,s.selectDate=J,s.unselectAll=function(t){l.forEach(function(e){_(e,t)})},s.unselectDate=_,Object.defineProperties(s,{selectedDates:{get:function(){return l.sort(function(e,t){return e.getTime()-t.getTime()})}},range:{get:function(){return f},set:function(e){e?(f=!0,s.el.tables.classList.add("range")):(f=!1,s.el.tables.classList.remove("range")),e&&(r=2)}},button:{get:function(){return n},set:function(e){n="string"==typeof e?e:null,s.el.button.innerHTML=n||""}},title:{get:function(){return a},set:function(e){a="string"==typeof e?e:null,s.el.titleBox.innerText=a||""}},lang:{get:function(){return L},set:function(e){e in v?(L=e,Y(),H()):console.error("Language not found")}},weekStart:{get:function(){return null!==C?C:v[L].weekStart},set:function(e){"number"==typeof e&&-1<e&&e<7?(C=e,Y(),H()):console.error("weekStart must be a number between 0 and 6")}},months:{get:function(){return p},set:function(e){"number"==typeof e&&0<e?(p=e,Y(),j(),H(),1==p?s.el.classList.remove("multi"):s.el.classList.add("multi")):console.error("months must be a number > 0")}},isOpen:{get:function(){return t}},closeOnSelect:{get:function(){return i},set:function(e){i=!!e}},disabledDays:{get:function(){return w},set:function(e){if(e instanceof Array)for(var t=0;t<e.length;t++)"number"==typeof e[t]&&w.push(e[t]);else"number"==typeof e?w=[e]:e||(w=[]);H()}},disabledDates:{get:function(){return k.map(function(e){return new Date(e)})},set:function(e){e instanceof Array?e.forEach(function(e){e instanceof Date&&k.push(new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime())}):e instanceof Date?k=[new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()]:e||(k=[]),H()}},highlight:{get:function(){return A},set:function(e){if(e instanceof Array)e.forEach(function(e){if(e instanceof Object){var t={dates:[]};"start"in e?t.dates.push({start:new Date(e.start.getFullYear(),e.start.getMonth(),e.start.getDate()),end:"end"in e?new Date(e.end.getFullYear(),e.end.getMonth(),e.end.getDate()):new Date(e.start.getFullYear(),e.start.getMonth(),e.start.getDate())}):"dates"in e&&e.dates instanceof Array&&e.dates.forEach(function(e){t.dates.push({start:new Date(e.start.getFullYear(),e.start.getMonth(),e.start.getDate()),end:"end"in e?new Date(e.end.getFullYear(),e.end.getMonth(),e.end.getDate()):new Date(e.start.getFullYear(),e.start.getMonth(),e.start.getDate())})}),t.color=e.color,t.backgroundColor=e.backgroundColor,t.legend="legend"in e?e.legend:null,A.push(t)}});else if(e instanceof Object){var t={dates:[]};"start"in e?t.dates.push({start:new Date(e.start.getFullYear(),e.start.getMonth(),e.start.getDate()),end:"end"in e?new Date(e.end.getFullYear(),e.end.getMonth(),e.end.getDate()):new Date(e.start.getFullYear(),e.start.getMonth(),e.start.getDate())}):"dates"in e&&e.dates instanceof Array&&e.dates.forEach(function(e){t.dates.push({start:new Date(e.start.getFullYear(),e.start.getMonth(),e.start.getDate()),end:"end"in e?new Date(e.end.getFullYear(),e.end.getMonth(),e.end.getDate()):new Date(e.start.getFullYear(),e.start.getMonth(),e.start.getDate())})}),t.color=e.color,t.backgroundColor=e.backgroundColor,t.legend="legend"in e?e.legend:null,A.push(t)}else e||(A=[]);H()}},onClose:{set:function(e){m=e}},onSelect:{set:function(e){N=e}},today:{get:function(){return M},set:function(e){M=!!e}},daynames:{get:function(){return S},set:function(e){S=!!e,Y()}},fullscreen:{get:function(){return s.el.classList.contains("fullscreen")},set:function(e){e?s.el.classList.add("fullscreen"):s.el.classList.remove("fullscreen")}},locked:{get:function(){return F},set:function(e){e?(F=!0,s.el.tables.classList.add("locked")):(F=!1,s.el.tables.classList.remove("locked"))}},maxSelections:{get:function(){return r},set:function(e){r="number"!=typeof e||f?f?2:null:e}},onConfirm:{set:function(e){"function"==typeof e?(h=e.bind(s),s.el.button.addEventListener(c,h)):e||(s.el.button.removeEventListener(c,h),h=null)}},onNavigation:{set:function(e){"function"==typeof e?g=e.bind(s):e||(g=null)}},closeOnClick:{get:function(){return y},set:function(e){y=!!e}},tooltips:{get:function(){var e=[];for(key in E)e.push({date:new Date(parseInt(key)),text:E[key]});return e},set:function(e){e instanceof Array?e.forEach(function(e){e.date&&e.text&&e.date instanceof Date&&(E[new Date(e.date.getFullYear(),e.date.getMonth(),e.date.getDate()).getTime()]=e.text)}):e instanceof Object?e.date&&e.text&&e.date instanceof Date&&(E[new Date(e.date.getFullYear(),e.date.getMonth(),e.date.getDate()).getTime()]=e.text):e||(E=[]),H()}},currentDate:{get:function(){return new Date(d,u-1,1)},set:V},setDate:{set:V},startDate:{get:function(){return T},set:function(e){e?T=new Date(e):(T=null,d=(new Date).getFullYear(),u=(new Date).getMonth()+1),H()}},minDate:{get:function(){return x},set:function(e){x=e?new Date(e):null,H()}},maxDate:{get:function(){return O},set:function(e){O=e?new Date(e):null,H()}},container:{get:function(){return b},set:function(e){if(e instanceof String){var t=document.querySelector(e);t?(b=t)!=document.body?s.el.classList.add("wrapped"):s.el.classList.remove("wrapped"):console.error("Container doesn't exist")}else e instanceof HTMLElement?(b=e)!=document.body?s.el.classList.add("wrapped"):s.el.classList.remove("wrapped"):console.error("Invalid type")}},inline:{get:function(){return D},set:function(e){e?(D=!0,s.el.classList.add("inline")):(D=!1,s.el.classList.remove("inline"))}}}),s.el=document.createElement("div"),s.el.id="Datepickk",s.el.classList.add(G().type),s.el.innerHTML=$,s.el.calendar=s.el.childNodes[1],s.el.titleBox=s.el.childNodes[0],s.el.button=s.el.childNodes[3],s.el.header=s.el.calendar.childNodes[0],s.el.monthPicker=s.el.calendar.childNodes[1],s.el.yearPicker=s.el.calendar.childNodes[2],s.el.tables=s.el.calendar.childNodes[4],s.el.days=s.el.calendar.childNodes[3],s.el.overlay=s.el.childNodes[4],s.el.legend=s.el.childNodes[2],R(e),j(),Y(),function(){s.el.header.childNodes[0].addEventListener(c,I),s.el.header.childNodes[2].addEventListener(c,P),s.el.button.addEventListener(c,X),s.el.overlay.addEventListener(c,function(){y&&s.hide()}),[].slice.call(s.el.monthPicker.childNodes).forEach(function(e){e.addEventListener(c,function(){u=parseInt(this.getAttribute("data-month")),H(),s.el.monthPicker.classList.remove("d-show")})}),[].slice.call(s.el.yearPicker.childNodes).forEach(function(e){e.addEventListener(c,function(){d+=parseInt(this.getAttribute("data-year")),H(),s.el.yearPicker.classList.remove("d-show")})});var t=0;s.el.calendar.addEventListener("touchstart",function(e){e.changedTouches[0].clientX||e.originalEvent.changedTouches[0].clientX}),s.el.calendar.addEventListener("touchend",function(e){50<t?I():t<-50&&P(),t=0})}(),D&&B(),H(),Object.freeze(s)}},function(e,t){}]).default});